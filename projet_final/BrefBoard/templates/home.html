<!-- home.html -->
{% extends 'base.html' %}

{% block content %}
<h1>Enregistrement de Réunion</h1>
<button onclick="startRecording()">Démarrer l'enregistrement</button>
<button onclick="stopRecording()">Arrêter l'enregistrement</button>

<h2>Texte Transcrit</h2>
<p id="texte-transcrit"></p>

<h2>Résumé</h2>
<p id="resume-texte"></p>

<script>
function startRecording() {
    fetch("{% url 'start_recording' %}")
        .then(response => response.json())
        .then(data => {
            alert(data.status);
        });
}

function stopRecording() {
    fetch("{% url 'stop_recording' %}")
        .then(response => response.json())
        .then(data => {
            alert(data.status);
            document.getElementById("texte-transcrit").innerText = data.texte_transcrit;
            document.getElementById("resume-texte").innerText = data.resume_texte;
        });
}
</script>
{% endblock %}
